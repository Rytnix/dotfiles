"use strict";(self.webpackChunkmue=self.webpackChunkmue||[]).push([[325],{3325:function(e,t,a){a.r(t),a.d(t,{default:function(){return te}});var s,n,r,i,o,c,u,l,h,m,d,p,Z,w,b,g,f,v,_,k,y=a(857),x=a(3755),N=a(7061),S=a(9900),W=a(4269),R=a(4593),M=a(886),j=a(8047),C=a.n(j),E=a(9660),F=a(9526),I=a(5077);function P(e){var t;switch(e.name){case"01d":t=s||(s=(0,y.Z)(I.Rq0,{}));break;case"01n":t=n||(n=(0,y.Z)(I.KCd,{}));break;case"02d":t=r||(r=(0,y.Z)(I.GW5,{}));break;case"02n":t=i||(i=(0,y.Z)(I.tNw,{}));break;case"03d":case"03n":t=o||(o=(0,y.Z)(I.DF0,{}));break;case"04d":case"04n":t=c||(c=(0,y.Z)(I.l64,{}));break;case"09d":t=u||(u=(0,y.Z)(I.B8,{}));break;case"09n":t=l||(l=(0,y.Z)(I.jBV,{}));break;case"10d":case"10n":t=h||(h=(0,y.Z)(I.IC8,{}));break;case"11d":case"11n":t=m||(m=(0,y.Z)(I.YSA,{}));break;case"13d":case"13n":t=d||(d=(0,y.Z)(I.GPo,{}));break;case"50d":case"50n":t=p||(p=(0,y.Z)(I.QGj,{}));break;default:t=null}return t}function B(e){var t,a=e.degrees;switch(["North","North-West","West","South-West","South","South-East","East","North-East"][Math.round(((a%=360)<0?a+360:a)/45)%8]){case"North":t=Z||(Z=(0,y.Z)(I.Xpc,{}));break;case"North-West":t=w||(w=(0,y.Z)(I.vt,{}));break;case"West":t=b||(b=(0,y.Z)(I.VU,{}));break;case"South-West":t=g||(g=(0,y.Z)(I._R8,{}));break;case"South":t=f||(f=(0,y.Z)(I.N5v,{}));break;case"South-East":t=v||(v=(0,y.Z)(I.Hbi,{}));break;case"East":t=_||(_=(0,y.Z)(I.HI7,{}));break;case"North-East":t=k||(k=(0,y.Z)(I.$5p,{}));break;default:t=null}return t}var D,q,z,G,U,Y,H,K,L,O,Q,V,X,$,A,J,T=a(8515),ee=a(7557);var te=function(e){(0,W.Z)(r,e);var t,a,s,n=(a=r,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,M.Z)(a);if(s){var n=(0,M.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,R.Z)(this,e)});function r(){var e;return(0,N.Z)(this,r),(e=n.call(this)).state={location:localStorage.getItem("location")||"London",icon:"",temp_text:"",weather:{temp:"",description:"",temp_min:"",temp_max:"",humidity:"",wind_speed:"",wind_degrees:"",cloudiness:"",visibility:"",pressure:""}},e}return(0,S.Z)(r,[{key:"getWeather",value:(t=(0,x.Z)(C().mark((function e(){var t,a,s,n,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(Number((localStorage.getItem("zoomWeather")||100)/100),"em"),document.querySelector(".weather").style.fontSize=t,a={weather:[{description:this.state.weather.description,icon:this.state.icon}],main:{temp:this.state.weather.original_temp,temp_min:this.state.weather.original_temp_min,temp_max:this.state.weather.original_temp_max,humidity:this.state.weather.humidity,pressure:this.state.weather.pressure},visibility:this.state.weather.visibility,wind:{speed:this.state.weather.wind_speed,deg:this.state.weather.wind_degrees},clouds:{all:this.state.weather.cloudiness}},this.state.weather.temp){e.next=9;break}return e.next=6,fetch(E.Z.constants.PROXY_URL+"/weather/current?city=".concat(this.state.location,"&lang=").concat(E.Z.languagecode));case 6:return e.next=8,e.sent.json();case 8:a=e.sent;case 9:if("404"!==a.cod){e.next=11;break}return e.abrupt("return",this.setState({location:E.Z.language.getMessage(E.Z.languagecode,"widgets.weather.not_found")}));case 11:s=a.main.temp,n=a.main.temp_min,r=a.main.temp_max,i="K",e.t0=localStorage.getItem("tempformat"),e.next="celsius"===e.t0?18:"fahrenheit"===e.t0?23:28;break;case 18:return s-=273.15,n-=273.15,r-=273.15,i="°C",e.abrupt("break",29);case 23:return s=1.8*(s-273.15)+32,n=1.8*(n-273.15)+32,r=1.8*(r-273.15)+32,i="°F",e.abrupt("break",29);case 28:return e.abrupt("break",29);case 29:this.setState({icon:a.weather[0].icon,temp_text:i,weather:{temp:Math.round(s),description:a.weather[0].description,temp_min:Math.round(n),temp_max:Math.round(r),humidity:a.main.humidity,wind_speed:a.wind.speed,wind_degrees:a.wind.deg,cloudiness:a.clouds.all,visibility:a.visibility,pressure:a.main.pressure,original_temp:a.main.temp,original_temp_min:a.main.temp_min,original_temp_max:a.main.temp_max}}),document.querySelector(".weather svg").style.fontSize=t;case 31:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;T.Z.on("refresh",(function(t){"weather"===t&&e.getWeather()})),this.getWeather()}},{key:"componentWillUnmount",value:function(){T.Z.off("refresh")}},{key:"render",value:function(){var e,t,a=this,s=function(e){return"true"===localStorage.getItem(e)};return this.state.location===E.Z.language.getMessage(E.Z.languagecode,"weather.not_found")?(0,y.Z)("div",{className:"weather"},void 0,(0,y.Z)("span",{className:"loc"},void 0,this.state.location)):(0,y.Z)("div",{className:"weather"},void 0,(0,y.Z)(P,{name:this.state.icon}),(0,y.Z)("span",{},void 0,this.state.weather.temp+this.state.temp_text),s("weatherdescription")?(0,y.Z)("span",{className:"loc"},void 0,G||(G=(0,y.Z)("br",{})),this.state.weather.description):null,(0,y.Z)("span",{className:"minmax"},void 0,(e=s("mintemp"),t=s("maxtemp"),e||t?e&&!t?(0,ee.jsxs)(ee.Fragment,{children:[D||(D=(0,y.Z)("br",{})),a.state.weather.temp_min+a.state.temp_text]}):t&&!e?(0,ee.jsxs)(ee.Fragment,{children:[q||(q=(0,y.Z)("br",{})),a.state.weather.temp_max+a.state.temp_text]}):(0,ee.jsxs)(ee.Fragment,{children:[z||(z=(0,y.Z)("br",{})),a.state.weather.temp_min+a.state.temp_text," ",a.state.weather.temp_max+a.state.temp_text]}):null)),s("humidity")?(0,y.Z)("span",{className:"loc"},void 0,U||(U=(0,y.Z)("br",{})),Y||(Y=(0,y.Z)(I.$2C,{})),this.state.weather.humidity,"%"):null,s("windspeed")?(0,y.Z)("span",{className:"loc"},void 0,H||(H=(0,y.Z)("br",{})),K||(K=(0,y.Z)(I.jYk,{})),this.state.weather.wind_speed,L||(L=(0,y.Z)("span",{className:"minmax"},void 0," m/s"))," ",s("windDirection")?(0,y.Z)(B,{degrees:this.state.weather.wind_degrees}):null):null,s("cloudiness")?(0,y.Z)("span",{className:"loc"},void 0,O||(O=(0,y.Z)("br",{})),Q||(Q=(0,y.Z)(I.DF0,{})),this.state.weather.cloudiness,"%"):null,s("visibility")?(0,y.Z)("span",{className:"loc visibility"},void 0,V||(V=(0,y.Z)("br",{})),E.Z.language.getMessage(E.Z.languagecode,"widgets.weather.meters",{amount:this.state.weather.visibility})):null,s("atmosphericpressure")?(0,y.Z)("span",{className:"loc"},void 0,X||(X=(0,y.Z)("br",{})),$||($=(0,y.Z)(I.eQ_,{})),this.state.weather.pressure,A||(A=(0,y.Z)("span",{className:"minmax"},void 0," hPa"))):null,J||(J=(0,y.Z)("br",{})),s("showlocation")?(0,y.Z)("span",{className:"loc"},void 0,this.state.location):null)}}]),r}(F.PureComponent)}}]);
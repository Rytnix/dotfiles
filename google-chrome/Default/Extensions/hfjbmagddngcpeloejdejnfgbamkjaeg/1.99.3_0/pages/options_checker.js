"use strict";__filename="pages/options_checker.js",define(["require","exports","./async_bg","./options_base"],function(n,r,t,e){Object.defineProperty(r,"__esModule",{value:true});var u={n:0,i:null,D:function(){function n(n,r,t){var e,u,s,i,c,o="";if(t.length>2&&":"===t[t.length-2]&&(o=t.slice(-2),t=t.slice(0,-2)),r=r.toLowerCase(),e=t.length>1,u=r.includes("s-"),s=t.toUpperCase(),!e){if(!r)return n;if(u&&r.length<3)return o?"<".concat(s).concat(o,">"):s}return r.includes("v-")?"<v-".concat(t,">"):(i=t.toLowerCase(),r=(c=r).length<4?c:c.slice(0,-1).split("-").sort().join("-")+"-",t!==i&&!u&&(r+="s-"),r||e||o?"<".concat(r).concat(i).concat(o,">"):t)}this.i=function(r){return r.replace(/<(?!<)((?:[ACMSVacmsv]-){0,4})(.[^>]*)>/g,n)},this.D=null},c:function(n,r){return r?"\\u00"+r:"\\\\"},l:function(n,r,t,e){var s,i,c;t?(t=t.replace(/\\(?:x([\da-z]{2})|\\)/gi,u.c),r='"'.concat(t,'"')):e||"\\\\"!==r||(r="\\"),s="",r.startsWith("{")&&(s=r=r.replace(/([{,] ?)(\w+):/g,'$1"$2":')),i=(r=r.replace(/\ufffe/g,"")).includes("\\\r");try{if("string"!=typeof(c=JSON.parse(i?r.replace(/\\\r/g,""):r)))return true!==c?s?"="+s+e:n:e;r=i?JSON.parse(r.replace(/\\\r/g,"\ufffe")):c}catch(n){r=i?(t||r).replace(/\\\r/g,"\ufffe"):t||r}return r=(r=r&&r.replace(/\\(\\|s)/g,function(n,r){return"s"===r?" ":n}))&&JSON.stringify(r).replace(/\s/g,u.d),"="+(r=i?r.replace(/\ufffe/g,"\\\r"):r)+e},d:function(n){return"\\u"+(n.charCodeAt(0)+1048576).toString(16).slice(2)},$:function(n,r,t,e,s){var i,c,o,a,f,l=u.i(e);return l!==e&&(console.log("KeyMappings Checker:",e,"is corrected into",l),e=l),"mapkey"===t.toLowerCase()?(o=(c=(i=/^\S+/.exec(s.trimLeft()))&&i[0])&&u.i(c))!==c&&(console.log("KeyMappings Checker:",c,"is corrected into",o),s=s.replace(c,o)):t.startsWith("unmap")||(a=s.trimLeft().split(/\s/,1)[0])&&(f=s.indexOf(a)+a.length,e+=s.slice(0,f),s=s.slice(f)),u.nn("",r,e,s)},rn:function(n,r,t){return r.replace("map","mapKey")+(3===t.length?t[1]:t)},nn:function(n,r,t,e){return/\s(createTab|openUrl)/.test(t)&&!/\surls?=/i.test(e)&&(e=u.tn(e)),r+t+(e?e.replace(/=("(\S*(?:\s[^=]*)?)"|[\S\r]+)(\s|$)/g,u.l):"")},tn:function(n){var r,t=[];return(n=(n+" ").replace(/\s+(\w+:[^=\s]+|[^\s=]+:\/\/\S+)(?=\s|$)/g,function(n,r){return t.push(r),""}).trimRight())+((r=t.length)>1?" urls=":r?" url=":"")+(r?JSON.stringify(r>1?t:t[0]):"")},G:function(n){return n?(this.D&&this.D(),n=(n=(n=(n=(n=n.replace(/\\\\?\n/g,function(n){return 3===n.length?n:"\\\r"})).replace(/^([ \t]*(?:#\s?)?map\s+(?:<(?!<)(?:.-){0,4}.[\w:]*?>|\S)\s+)(<(?!<)(?:[ACMSVacmsv]-){0,4}.\w*?>|\S)(?=\s|$)/gm,this.rn)).replace(/^([ \t]*(?:#\s?)?(map(?:[kK]ey)?|run|unmap!?)\s+)(\S+)([^\n]*)/gm,this.$)).replace(/^([ \t]*(?:#\s?)?(?:command|shortcut)\s+)(\S+)([^\n]*)/gm,this.nn)).replace(/\\\r/g,"\\\n").trim()):n}};e.r.en.keyMappings.V=u,e.r.en.searchUrl.V={n:0,G:function(n){return t.w(14,n).then(function(n){var r,t,u=e.r.en.searchUrl;return null==n?u.A():(r=n[1],n[0]?(u.un(""),r):(t=e.t("nonPlainURL",[r]),console.log("searchUrl checker:",t),u.un(t),u.A()))})}},e.r.en.newTabUrl.V={n:0,G:function(n){return t.w(13,/^\/?pages\/[a-z]+.html\b/i.test(n)?t.sn.runtime.getURL(n):n.toLowerCase()).then(function(r){var t=r[0],u=r[1];return t=t.split("?",1)[0].split("#",1)[0],n.startsWith("http")||1!==u&&!/^(?!http|s?ftp)[a-z\-]+:\/?\/?newtab\b\/?/i.test(n)?n:e.u.x.newTabUrl})}},e.r.en.vimSync.I=function(){var n,r,t,u;if(!this.C&&true===this.U()){for(t in r=0,n=e.r.en)n[t].C||++r;if(u=r>1,setTimeout(alert,100,e.t(u?"changedBeforeSync":"warningForSync")),u)return false}return true},e.r.en.keyboard.V={n:0,G:function(n){return null==n||n.length<2||!(n[0]>0&&n[0]<4e3)||!(n[1]>0&&n[1]<1e3)?e.u.x.keyboard:[+n[0],+n[1]].concat(n.slice(2))}}});